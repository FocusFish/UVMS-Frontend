<div ng-controller="ManualmovementlistCtrl">
	<div class="movementtablecontainer">
        <table class="searchResults colorOdd movementtable">
            <thead>
                <tr class="searchInputRow">
                    <th></th>
                    <th>
                        <input type="text" placeholder="{{'movement.external_marking_filter_external_marking' | i18n}}" ng-model="search.carrier.externalMarking">
                    </th>
                    <th>
                        <input type="text" placeholder="{{'movement.external_marking_filter_ircs' | i18n}}" ng-model="search.carrier.ircs">
                    </th>
                    <th>
                        <input type="text" placeholder="{{'movement.external_marking_filter_cfr' | i18n}}" ng-model="search.carrier.cfr">
                    </th>
                    <th>
                        <input type="text" placeholder="{{'movement.external_marking_filter_name' | i18n}}" ng-model="search.carrier.name">
                    </th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th class="printAndExport">
                        <i class="fa fa-lg fa-file" title="{{'common.export_as_csv' | i18n }}" ng-click="exportAsCSVFile()"></i>
                        <i class="fa fa-lg fa-print" title="{{'common.print_page' | i18n }}" ng-click="print()"></i>              
                    </th>
                </tr>            
                <tr>
                    <th><input type="checkbox" ng-checked="isAllChecked()" ng-click="checkAll()"/></th>
                    <th sortable-table-header by="currentSearchResults.sortBy" reverse="currentSearchResults.sortReverse" order="'carrier.externalMarking'">{{'movement.table_header_external_marking' | i18n}}</th>
                    <th sortable-table-header by="currentSearchResults.sortBy" reverse="currentSearchResults.sortReverse" order="'carrier.ircs'">{{'movement.table_header_ircs' | i18n}}</th>
					<th sortable-table-header by="currentSearchResults.sortBy" reverse="currentSearchResults.sortReverse" order="'carrier.cfr'">{{'movement.table_header_cfr' | i18n}}</th>
					<th sortable-table-header by="currentSearchResults.sortBy" reverse="currentSearchResults.sortReverse" order="'carrier.name'">{{'movement.table_header_name' | i18n}}</th>
					<th sortable-table-header by="currentSearchResults.sortBy" reverse="currentSearchResults.sortReverse" order="'time'">{{'movement.table_header_time' | i18n}}</th>
                    <th sortable-table-header by="currentSearchResults.sortBy" reverse="currentSearchResults.sortReverse" order="'position.latitude'">{{'movement.table_header_latitude' | i18n}}</th>
                    <th sortable-table-header by="currentSearchResults.sortBy" reverse="currentSearchResults.sortReverse" order="'position.longitude'">{{'movement.table_header_longitude' | i18n}}</th>
                    <th sortable-table-header by="currentSearchResults.sortBy" reverse="currentSearchResults.sortReverse" order="'speed'">{{'movement.table_header_measured_speed' | i18n}}</th>
                    <th sortable-table-header by="currentSearchResults.sortBy" reverse="currentSearchResults.sortReverse" order="'course'">{{'movement.table_header_course' | i18n}}</th>
                    <th></th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="item in filtered = (currentSearchResults.movements | orderBy:currentSearchResults.sortBy : currentSearchResults.sortReverse | filter:search)">
                	<td><input type="checkbox" ng-checked="isChecked(item)" ng-click="checkItem(item)"/></td>
                    <td>{{item.carrier.externalMarking}}</td>
                    <td>{{item.carrier.ircs}}</td>
                    <td>{{item.carrier.cfr}}</td>
                    <td>{{item.carrier.name}}</td>
                    <td>{{item.time}}</td>
                    <td>{{item.position.latitude}}</td>
                    <td>{{item.position.longitude}}</td>
                    <td>{{item.speed}}</td>
                    <td>{{item.course}}&deg;</td>
                    <td>
                    	<a href ng-click="editPosition(item)" ng-if="item.guid">
                    		<i class="positionedit fa fa-pencil-square-o fa-lg"></i>
                    	</a>
                    </td>
                    <td>
                    	<a href ng-click="deletePosition(item)" ng-if="item.guid">
                    		<i class="positionremove fa fa-trash-o fa-lg"></i>
                    	</a>
                    </td>
                </tr>
            </tbody>
        </table>
        <search-result-error-alert ng-show="currentSearchResults.errorMessage">{{currentSearchResults.errorMessage}}</search-result-error-alert>
        <search-result-error-alert ng-show="currentSearchResults.movements.length > 0 && filtered.length === 0">{{'movement.manual_position_filter_no_results' | i18n}}</search-result-error-alert>        
    </div>
    <div class="col-md-12 searchResultsLoading" ng-show="currentSearchResult.loading">
        <i class="fa fa-spinner fa-spin fa-pulse fa-2x"></i>        
    </div>
</div>


