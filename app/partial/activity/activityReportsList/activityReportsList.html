<div class="col-md-12 activityReportsList" ng-controller="ActivityreportslistCtrl">
	<div st-table="displayedActivities" st-safe-src="actServ.activities" st-pipe="callServer">
		<div class="table-responsive-force">
			<table class="table table-striped table-condensed">
				<thead>
					<tr>
						<th st-sort="FAReportType"  st-class-ascent="sorting_asc" st-class-descent="sorting_desc" >{{'activity.header_fa_report_type' | i18n }}</th>
						<th st-sort="activityType" st-sort-default="reverse" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" >{{'activity.header_fa_activity_type' | i18n }}</th>
						<th st-sort="occurence" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" >{{'activity.header_fa_occurence' | i18n }}</th>
						<th st-sort="purposeCode" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" >{{'activity.header_fa_purpose_code' | i18n }}</th>
						<th st-sort="dataSource" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" >{{'activity.header_fa_data_source' | i18n }}</th>
						<th st-sort="fromName" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" >{{'activity.header_fa_from_name' | i18n }}</th>
						<th st-sort="startDate" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" >{{'activity.header_fa_start_date' | i18n }}</th>
						<th st-sort="endDate" st-skip-natural="true" st-class-ascent="sorting_asc" st-class-descent="sorting_desc" >{{'activity.header_fa_end_date' | i18n }}</th>
						<th class="notSortable">{{'spatial.reports_form_vessel_search_table_header_ircs' | i18n }}</th>
						<th class="notSortable">{{'spatial.reports_form_vessel_search_table_header_cfr' | i18n }}</th>
						<th class="notSortable">{{'spatial.reports_form_vessel_search_table_header_external_marking' | i18n }}</th>
						<th class="notSortable">{{'activity.header_fa_areas' | i18n }}</th>
						<th class="notSortable">{{'activity.header_fa_port' | i18n }}</th>
						<th class="notSortable">{{'activity.header_fa_gear' | i18n }}</th>
						<th class="notSortable">{{'activity.header_fa_species' | i18n }}</th>
						<th class="notSortable">{{'activity.header_fa_weight' | i18n }}</th>
						<th class="notSortable">{{'activity.header_fa_actions' | i18n }}</th>
					</tr>
					<tr>
						<th colspan="17" ng-if="!actServ.reportsList.isLoading && (actServ.activities.length === 0 || actServ.reportsList.hasError)">
							<table-alert type="'info'" msg="'spatial.table_no_data'" visible="actServ.activities.length === 0 && !actServ.reportsList.hasError"></table-alert>
							<table-alert type="'error'" msg="'activity.fa_table_error_fetching_reports'" visible="actServ.reportsList.hasError"></table-alert>
						</th>
					</tr>
					<tr ng-if="actServ.reportsList.isLoading">
						<th colspan="17" class="loading-spinner-cl"><i class="fa fa-spinner fa-spin loading-spinner"></i></th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="activity in actServ.activities" ng-if="actServ.activities.length > 0 && !actServ.reportsList.hasError && !actServ.reportsList.isLoading">
						<td>{{ activity.FAReportType }}</td>
						<td>{{ activity.activityType }}</td>
						<td>{{ activity.occurence | stDateUtc}}</td>
						<td>{{ activity.purposeCode | stPurposeCode }}</td>
						<td>{{ activity.dataSource }}</td>
						<td>{{ activity.fromName }}</td>
						<td>{{ activity.startDate | stDateUtc }}</td>
						<td>{{ activity.endDate | stDateUtc}}</td>
						<td>{{ activity.vesselIdTypes | stVessekIdsToColumns: 'ircs'}}</td>
						<td>{{ activity.vesselIdTypes | stVessekIdsToColumns: 'cfr'}}</td>
						<td>{{ activity.vesselIdTypes | stVessekIdsToColumns: 'ext_mark'}}</td>
						<td>{{ activity.areas | stArrayToString: ' - ' }}</td>
						<td>{{ activity.port | stArrayToString: ' - ' }}</td>
						<td>{{ activity.fishingGear | stArrayToString: ' - ' }}</td>
						<td>{{ activity.speciesCode | stArrayToString: ', ' }}</td>
						<td>{{ activity.quantity | stArrayToString: ', ' }}</td>
						<td class="no-wrap-white-space">
							<button type="button" class="btn btn-xs btn-default" title="{{'activity.activity_overview' | i18n }}" ng-click="openOverview($index)">
								<span class="fa fa-eye"></span>
							</button>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<div class="stFooterPagination" ng-show="actServ.activities.length > 0 && !repServ.isLoadingReportsList">
			<div class="tr">
				<div class="td text-right">
					<div st-pagination st-items-by-page="actServ.reportsList.pagination.listSize" st-template="partial/common/reportsPagination/reportsPagination.html"></div>
				</div>
			</div>
		</div>
	</div>
</div>