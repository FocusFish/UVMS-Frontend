<div ng-controller="SegmentstylesrulerowCtrl">
	<ng-form name="segmentstylesForm{{item.id}}" novalidate>
		<div class="row col-md-12">
			<div class="form-group col-md-2" ng-class="{'has-error': segmentstylesForm{{item.id}}.propertyFrom.$error.requiredField && $first && segmentstylesForm{{item.id}}.propertyFrom.$dirty}">
				<input class="form-control" placeholder="{{'spatial.segment_property_from' | i18n }}" ng-model="item.propertyFrom" name="propertyFrom" min="0" type="number" ng-change="validatePropertyFrom($first);" ng-disabled="!$first"/>
			</div>
			<div class="form-group col-md-2" ng-class="{'has-error': (segmentstylesForm{{item.id}}.propertyTo.$error.requiredField || segmentstylesForm{{item.id}}.propertyTo.$error.segPropTo) && segmentstylesForm{{item.id}}.propertyTo.$dirty}">
				<input class="form-control" placeholder="{{'spatial.segment_property_to' | i18n }}" ng-model="item.propertyTo" name="propertyTo" min="0" type="number" ng-change="validatePropertyTo();updateNextRule();"/>
			</div>
			<div class="form-group col-md-3" ng-class="{'has-error': (segmentstylesForm{{item.id}}.propertyColor.$error.requiredField || segmentstylesForm{{item.id}}.propertyColor.$error.segPropColor) && segmentstylesForm{{item.id}}.propertyColor.$dirty}">
				<div class="colorPickerComponent">
					<div ng-style="{'background-color': item.color && item.color.length > 3 && item.color.indexOf('#') != -1 ? item.color : '#fff'}" class="form-control pickedcolor">
			       		<i class="fa fa-ban" ng-hide="item.color && item.color.length > 3 && item.color.indexOf('#') != -1"></i>
			        </div>
			        <input class="form-control" colorpicker ng-model="item.color" type="text" ng-change="validatePropertyColor();" name="propertyColor"/>
				</div>
			</div>
			<div class="form-group col-md-1 btn-rm">
				<a ng-click="removeRule($index)" title="{{'spatial.segment_property_rm_rule' | i18n }}">
					<span class="btn btn-primary btn-sm btn-circle"><i class="fa fa-minus"></i></span>
				</a>
			</div>
			<div class="form-group col-md-4" ng-messages="segmentstylesForm{{item.id}}.propertyFrom.$error">
				<div ng-show="segmentstylesForm{{item.id}}.propertyFrom.$dirty">
					<div ng-message="requiredField">{{'spatial.required_error_message' | i18n }}</div>
				</div>
				<div ng-messages="segmentstylesForm{{item.id}}.propertyTo.$error" ng-show="!segmentstylesForm{{item.id}}.propertyFrom.$error.requiredField">
					<div ng-show="segmentstylesForm{{item.id}}.propertyTo.$dirty">
						<div ng-message="requiredField">{{'spatial.required_error_message' | i18n }}</div>
						<div ng-message="segPropTo">{{'spatial.seg_prop_to_error_message' | i18n }}</div>
					</div>
					<div ng-messages="segmentstylesForm{{item.id}}.propertyColor.$error" ng-show="!segmentstylesForm{{item.id}}.propertyFrom.$error.requiredField && !segmentstylesForm{{item.id}}.propertyTo.$error.requiredField && !segmentstylesForm{{item.id}}.propertyTo.$error.segPropTo">
						<div ng-show="segmentstylesForm{{item.id}}.propertyColor.$dirty">
							<div ng-message="requiredField">{{'spatial.required_error_message' | i18n }}</div>
							<div ng-message="segPropColor">{{'spatial.invalid_color_error_message' | i18n }}</div>
						</div>
					</div>
				</div>
			</div>
	</ng-form>	
</div>
