<div ng-controller="VesselCtrl" ng-init="getInitialVessels()">

<div class="addvessel fadeaddvesselin fadeaddvesselout" ng-show="addNewVesselVisible.active">
    <div class="row col-md-12">
        <p class="createResponseMessage">{{createResponseMessage}}</p>
        <!--  <div class="pull-right">
         -  <div class="col-md-1">
              <button class="btn btn-sm pull-right createnewvesselbutton" type="button" ng-click="createNewVessel()"> Create New Vessel </button>
          </div>
          <div class="col-md-1">
              <div class="closenewvessel pull-right" ng-click="toggleAddNewVessel()"> <img src="assets\close.png" /></div>
          </div>
         </div>-->
    </div>
    <newVessel></newVessel>
</div>

    <div class="getvessel fadegetvesselin fadegetvesselout" ng-show="getVesselVisible.active">
        <div class="row col-md-12">
            <p class="updateResponseMessage">{{updateResponseMessage}}</p>
            <div class="pull-right">
                <div class="col-md-1">
                    <button class="btn btn-sm updatevesselbutton pull-right" type="button" ng-click="updateVessel()"> Update </button>
                </div>
                <div class="col-md-1">
                    <div class="closegetvessel pull-right" ng-click="toggleGetVessel()"><img src="assets/close.png" /></div>
                </div>
            </div>
        </div>
        <getVessel carrier="{{selectedCarrier}}"></getVessel>
    </div>

<div class="vesselcontainerwrapper fadeaddvesselin fadeaddvesselout" ng-show="vesselSearchContainerVisible.active">
   <div class="vesselsearchboxcontainer">
    <div class="vesselsearchbox">

        <div class="vesselsearchtools">
            <form class="vesselsearch">
                <input type="text" class="form-control" placeholder="Search" ng-model="searchFilter">
            </form>

            <!-- Dropdown -->
            <div class="dropdown">
                <button class="btn btn-default vesseldropdown dropdown-toggle" type="button" id="vesselDropdown" data-toggle="dropdown" aria-expanded="true">
                    <div class="vesseldropdowntext">All</div>
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" role="menu" aria-labelledby="vesselDropdown">
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Vessels</a></li>
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Another action</a></li>
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Something else here</a></li>
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Separated link</a></li>
                </ul>
            </div>

            <!-- Search button -->
            <button type="button" class="btn btn-default btn-lg" ng-click="checkVessels()">
                <span class="fa fa-search" aria-hidden="true" ></span>
            </button>

        </div>
        <div class="vesselsearchgroups">
            <savedSearchesButton></savedSearchesButton>
        </div>

        {{selected}}

    </div>
       <div class="advancesearchcontainer">
           <div class="advancesearchbody fadein fadeout" ng-show="advancesearch.active"></div>
            <p class="advancesearchtag" ng-click="toggleanim()">+ Advanced search</p>
       </div>
    <div class="vesselsearchboxfooter">
        <!-- Dropdown -->
        <div class="dropdown">
            <button class="btn btn-default dropdown-toggle" type="button" id="vesselDropdownn" data-toggle="dropdown" aria-expanded="true">
                <div class="vesseldropdowntext">All</div>
                <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu" aria-labelledby="vesselDropdown">
                <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Vessels</a></li>
                <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Another action</a></li>
                <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Something else here</a></li>
            </ul>
        </div>
        <!-- add new button -->
        <button class="btn btn-sm pull-right addvesselbtn" ng-click="toggleAddNewVessel()" type="button"> Add new &nbsp;&nbsp;&nbsp;&nbsp;<span>+</span></button>

    </div>

       <br>
   </div>

    <div class="vesselsearchresultcontainer">
    <div class="vesselsearchresult">
        <table class="col-md-12">
            <thead>
            <tr>
                <th><input type="checkbox" ng-model="item.selectedAll" ng-click="checkAll()"/></th>
                <th>
                    <a href="" ng-click="sortType='internalId'; sortReverse = !sortReverse">
                        Id
                        <span ng-show="sortType == 'internalId' && !sortReverse" class="fa fa-caret-down"></span>
                        <span ng-show="sortType == 'internalId' && sortReverse" class="fa fa-caret-up"></span>
                        <span ng-show="sortType != 'internalId'" class="fa fa-sort"></span>
                    </a>
                </th>
                <th>
                    <a href="" ng-click="sortType='name'; sortReverse = !sortReverse">
                        Name
                        <span ng-show="sortType == 'name' && !sortReverse" class="fa fa-caret-down"></span>
                        <span ng-show="sortType == 'name' && sortReverse" class="fa fa-caret-up"></span>
                        <span ng-show="sortType != 'name'" class="fa fa-sort"></span>
                    </a>
                </th>
                <th>
                    <a href="" ng-click="sortType='state'; sortReverse = !sortReverse">
                        State
                        <span ng-show="sortType == 'state' && !sortReverse" class="fa fa-caret-down"></span>
                        <span ng-show="sortType == 'state' && sortReverse" class="fa fa-caret-up"></span>
                        <span ng-show="sortType != 'state'" class="fa fa-sort"></span>
                    </a>
                </th>
                <th>
                    <a href="" ng-click="sortType='externalMarking'; sortReverse = !sortReverse">
                        Ext.Ma
                        <span ng-show="sortType == 'externalMarking' && !sortReverse" class="fa fa-caret-down"></span>
                        <span ng-show="sortType == 'externalMarking' && sortReverse" class="fa fa-caret-up"></span>
                        <span ng-show="sortType != 'externalMarking'" class="fa fa-sort"></span>
                    </a>
                </th>
                <th>
                    <a href="" ng-click="sortType='vesselType'; sortReverse = !sortReverse">
                        Vesseltype
                        <span ng-show="sortType == 'vesselType' && !sortReverse" class="fa fa-caret-down"></span>
                        <span ng-show="sortType == 'vesselType' && sortReverse" class="fa fa-caret-up"></span>
                        <span ng-show="sortType != 'vesselType'" class="fa fa-sort"></span>
                    </a>
                </th>
                <th>
                    <a href="" ng-click="sortType='ircs'; sortReverse = !sortReverse">
                        Signal
                        <span ng-show="sortType == 'ircs' && !sortReverse" class="fa fa-caret-down"></span>
                        <span ng-show="sortType == 'ircs' && sortReverse" class="fa fa-caret-up"></span>
                        <span ng-show="sortType != 'ircs'" class="fa fa-sort"></span>
                    </a>
                </th>
                <th>
                    <a href="" ng-click="sortType='cfr'; sortReverse = !sortReverse">
                        Comm
                        <span ng-show="sortType == 'cfr' && !sortReverse" class="fa fa-caret-down"></span>
                        <span ng-show="sortType == 'cfr' && sortReverse" class="fa fa-caret-up"></span>
                        <span ng-show="sortType != 'cfr'" class="fa fa-sort"></span>
                    </a>
                </th>
                <th>
                    <a href="" ng-click="sortType='memberno'; sortReverse = !sortReverse">
                        Member No.
                        <span ng-show="sortType == 'memberno' && !sortReverse" class="fa fa-caret-down"></span>
                        <span ng-show="sortType == 'memberno' && sortReverse" class="fa fa-caret-up"></span>
                        <span ng-show="sortType != 'memberno'" class="fa fa-sort"></span>
                    </a>
                </th>
                <th>
                    <a href="" ng-click="sortType='terminals'; sortReverse = !sortReverse">
                        Terminals
                        <span ng-show="sortType == 'terminals' && !sortReverse" class="fa fa-caret-down"></span>
                        <span ng-show="sortType == 'terminals' && sortReverse" class="fa fa-caret-up"></span>
                        <span ng-show="sortType != 'terminals'" class="fa fa-sort"></span>
                    </a>
                </th>
                <th>
                    <a href="" ng-click="sortType='lastreport'; sortReverse = !sortReverse">
                        Last report
                        <span ng-show="sortType == 'lastreport' && !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == 'lastreport' && sortReverse" class="fa fa-caret-up"></span>
                        <span ng-show="sortType != 'lastreport'" class="fa fa-sort"></span>
                    </a>
                </th>
                <th>Details</th>

            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="item in vessels | orderBy:sortType:sortReverse | filter:searchFilter">
                <td><input type="checkbox" ng-model="item.Selected"/></td>
                <td>{{item.internalId}}</td>
                <td>{{item.name}}</td>
                <td>{{item.source}}</td>
                <td>{{item.externalMarking}}</td>
                <td>{{item.vesselType}}</td>
                <td>{{item.ircs}}</td>
                <td>Not present</td>
                <td>Not present</td>
                <td>Not present</td>
                <td>Not present</td>
                <td>
                    <button class="btn vesselbtn button" ng-click="toggleGetVessel(item)">View</button>
                </td>
            </tr>
            </tbody>
        </table>
        <p style="color: orangered">{{error}}</p>
    </div>

    </div>
</div>
</div>
